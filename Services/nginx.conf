events {
}

http {
    proxy_send_timeout        120;
    proxy_read_timeout        300;
    proxy_buffering           off;
    tcp_nodelay               on;

    client_max_body_size       10m;
    client_body_buffer_size    128k;

    server {
        listen                  80;

        location /api/accounts {
            proxy_pass            https://accounts:5001/api/accounts;
            proxy_http_version 1.1;
            proxy_set_header   Upgrade $http_upgrade;
            proxy_set_header   Connection keep-alive;
            proxy_set_header   Host $host;
            proxy_cache_bypass $http_upgrade;
            proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header   X-Forwarded-Proto $scheme;
        }
    }

}
